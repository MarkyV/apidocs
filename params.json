{"tagline":"","body":"OANDA Open API\r\n==============\r\n\r\n**Disclaimer**: API is currently in draft and is not open to public access.\r\n\r\n##API Request Endpoint\r\n\r\n\thttps://api.oanda.com\r\n\r\n\r\n##Getting started\r\n###Step 1: Register your application\r\n\r\n* Go to developer.oanda.com and sign up for a developer acount.\r\n* Register your applications on developer.oanda.com. We will assign OAuth client_id and client_secret for each of your applications. \r\n\r\n###Step 2: Authenticate\r\nAll requests beside rates require authentcation.  Authentication required requests require an OAuth `access_token` which can be obtained by following the [authenication guide](#Authentication) below.\r\n\r\n###Step 3: Start Making request\r\n\r\n```shell\r\n$curl -X POST \\\r\n    -H \"Authorization: Bearer some_access_token_mF_9.B5f-4.1JqM\"\r\n    --data-urlencode 'instrument=EUR/USD' \\\r\n    --data-urlencode 'uints=1' \\\r\n    --data-urlencode 'direction=long' \\\r\n    http://api.oanda.com/accounts/6531071/trades\r\n\r\n{\r\n    \"ids\" : [177715575],\r\n    \"instrument\" : \"EUR\\/USD\",\r\n    \"units\" : 2,\r\n    \"price\" : 1.30582,\r\n    \"marginUsed\" : 0.1306,\r\n    \"direction\" : \"short\"\r\n}\r\n```\r\n\r\n\r\n##Authentication\r\n\r\nOANDA's API uses the [OAuth 2.0 protocol](http://tools.ietf.org/html/draft-ietf-oauth-v2-12). A successful authentication flow results in the application obtaining a user access token which can be used to make requests to OANDA's APIs.\r\n\r\n#### Obtaining an access token\r\n\r\n1. Direct user to our authourization URL.  User will be asked to log in if they are not logged in. The user will be prompt if he/she would like to give you application access to their account.\r\n\r\n2. The server will redirect the user in one of two ways that you choose:\r\n\t* __Server-side flow__ (Authorization Code): Redirect the user to a URI of your choice. Take the provided code parameter and exchange it for an access_token by POSTing the code to our access_token url.\r\n\t* __Client-side flow__ (Implicit flow): Instead of handling a code, we include the access_token as a fragment (#) in the URL. This method allows applications without any server component to receive an access_token with ease.\r\n\r\n#### Server-side flow\r\n\r\n#####Step 1: Direct user to OANDA for authorization\r\n\r\nDirect OANDA account holder to the following URL to obtain authorization from user:\r\n\r\n\thttp://api.oanda.com/oauth/authorized?client_id=$APP_ID&redirect_url=$APP_REDIRECT_URL&scope=$LIST_OF_PERMISSIONS&response_type=code\r\n\t\r\n**Parameters**\r\n\r\n* **client_id**: **required** The Application ID as provided when registering the application with OANDA.\r\n* **redirect_url**: **required** The URL to redirect to after the user finishes the authorization flow. The URL specified must be a URL of with the same Base Domain as specified in the application settings.\r\n* **scope**: **required** A comma separated list of the permission being requested.\r\n* **response_type**: **required** Specify **code** to request server-size flow.\r\n* **state**: **optional** A unique string used to maintain application state between the request and callback. When OANDA redirects the user back to the application redirect_uri, this parameter's value will be included in the response. This parameter is used to protect against Cross-Site Request Forgery.\r\n\r\n#####Step 2: Receive redirect from OANDA \r\n\r\nOANDA will provide you with authentication code by redirecting to your `redirect_url` specified in step 1.\r\n\r\n\thttps://your-redirect-url?state=$UNIQUE_STR&code=$AUTH_CODE\r\n\t\r\n**Parameters**\r\n\r\n* **code**: The authorization code, that can be used to obtain an access token.\r\n* **state**: The *optional* unique string that was originally specified.\r\n\r\nIf your authorization request is denied by the user, then we will redirect the user to your `redirect_uri` with error parameters:\r\n\r\n\thttp://your-redirect-uri?error=access_denied&error_reason=user_denied&error_description=The+user+denied+your+request&state=$UNIQUE_STR\r\n\r\n**Parameters**\r\n\r\n* **error**: access_denied\r\n* **error_reason**: user_denied\r\n* **error_description**: The user denied your request\r\n* **state**: The *optional* unique string that was originally specified.\r\n\r\n\r\n#####Step 3: Exchange authentication code for access_token\r\n\r\n\thttp://api.oanda.com/oauth/access_token?client_id=$APP_ID&client_secret=$APP_SECRET&code=$AUTH_CODE\r\n\t\r\n**Parameters**\r\n\r\n* **client_id**: *required* The Application ID as provided when registering the application with OANDA.\r\n* **client_secret**: *required* The application secret as provided when registering the application with OANDA.\r\n* **code**: *required* The authorization code received in the previous message.\r\n\r\nIf succeed, access_token will be provide in the following format:\r\n\r\n\t{\r\n\t\t\"access_token\": \"Asf9e9f30u909u\"\r\n\t}\r\n\r\n#### Client-side flow\r\n\r\n#####Step 1: Direct user to OANDA for authorization\r\n\r\nFollow same instruction as [above](#step-1-direct-user-to-oanda-for-authorization) but set `response_type=token`\r\n\r\n#####Step 2: Receive redirect from OANDA \r\n\r\nOANDA will provide you with access_token by redirecting to your `redirect_url` specified in step 1.\r\n\r\n\thttps://your-redirect-url#state=$UNIQUE_STR&access_token=$ACCESS_TOKEN\r\n\t\r\nIf your authorization request is denied by the user, then we will redirect the user to your `redirect_uri` with error parameters:\r\n\r\n\thttp://your-redirect-uri?error=access_denied&error_reason=user_denied&error_description=The+user+denied+your+request&state=$UNIQUE_STR\r\n\r\n\r\n##### Using access_token\r\n\r\n`access_token` need to be provide in the HTTP `Authorization` header. For example:\r\n\r\n\tGET /accounts/1/trades HTTP/1.1\r\n\tAccept: */*\r\n\tConnection: close\r\n\tUser-Agent: OAuth gem v0.4.4\r\n\tContent-Type: application/x-www-form-urlencoded\r\n\tAuthorization: Bearer Asf9e9f30u909u\r\n\tHost: api.oanda.com\r\n\r\n##Scope (Permissions)\r\n\r\n\r\n* __read__: Allows access to rates and account information\r\n* __trade__: Allows access to open and close trades\r\n\r\nRequest and Respond\r\n------------------\r\nOAuth token to be part of the HTTP header in all requests\r\n\r\n    GET /accounts/1/trades HTTP/1.1\r\n    Accept: */*\r\n    Connection: close\r\n    User-Agent: OAuth gem v0.4.4\r\n    Content-Type: application/x-www-form-urlencoded\r\n    Authorization: Bearer mF_9.B5f-4.1JqM\r\n    Host: api.oanda.com\r\n\r\nAll requests require <code>Content-Type: application/x-www-form-urlencoded</code> unless specified otherwise.\r\n\r\nAll response will be in JSON format.\r\n\r\nHandling errors\r\n----------------\r\n\r\nWhen an error occurs, the applicable HTTP response code is returned as well as an error message in the body in the following format:\r\n\r\n```shell\r\n{\r\n    \"errorCode\" : [OANDA error code, may or may kot be the same as the HTTP status code],\r\n    \"message\"   : [a description of the error which occurred, intended for developers],\r\n    \"moreInfo\"  : [a link to a web page describing the error and possible causes and solutions]\r\n}\r\n```\r\n\r\nRate limiting\r\n-------------\r\n\r\nAPI\r\n---\r\n\r\n| Resource | URI | Methods | Description |\r\n| -------- | -------- | ------- | ----------- |\r\n| [user][users]| /users/:username  | [POST](https://github.com/oanda/apidocs/blob/master/sections/users.md)    | User registration, user profile |\r\n| [account][accounts]| /accounts/:account_id  | [GET](https://github.com/oanda/apidocs/blob/master/sections/accounts.md)    | Contains account information for a specific account |\r\n| [account collection][accounts] | /accounts | [GET](apidocs/blob/master/sections/accounts.md) | Contains list of accounts for a specific user |\r\n| [trade][trades] | /accounts/:account_id/trades/:trade_id | GET, PUT, DELETE | Contains info of a specific trade. |\r\n| [trade collection][trades] | /accounts/:id/trades | GET, POST | Contain a list of trade for a specific account. Use POST to create new trades |\r\n| [order][orders] | /accounts/:account_id/orders/:order_id | GET, PUT, DELETE | Contains info of a specific order. GET to retrieve info. PUT to change, DELETE to delete.|\r\n| [order collection][orders] | /accounts/:account_id/orders | GET, POST | Contain a list of trade for a specific account. Use POST to create new trades |\r\n| [position collection][positions] | /accounts/:account_id/position | GET, DELETE | Contain a list of positions for a specific account. Use GET to retrieve. DELTE to delete existing position. |\r\n| [transaction][transactions] | /accounts/:account_id/transactions/:trans_id | GET | Contains info of a specific transaction. |\r\n| [transaction collection][transactions] | /accounts/:account_id/transaction | GET | Contains info of a list transactions. |\r\n| [price alert][alerts] | /accounts/:account_id/alerts/:alert_id | GET, DELETE | Contains info of a specific transaction. |\r\n| [price alert collection][alerts] | /accounts/:account_id/alerts | GET | Contains info of a list transactions. |\r\n| [rates][rates] | | | Market rates data. |\r\n| [news][news] | /news/:article_id | GET | Retrieves the body of a news item. |\r\n| [news collection][news] | /news | GET | Contains a list of news items. |\r\n| [notification collection][notifications] | /users/:username/notifications | POST, DELETE | Contains a list of devices registered for notification for :username's accounts |\r\n\r\n\r\n[users]: https://github.com/oanda/apidocs/blob/master/sections/users.md\r\n[accounts]: https://github.com/oanda/apidocs/blob/master/sections/accounts.md\r\n[trades]: https://github.com/oanda/apidocs/blob/master/sections/trades.md\r\n[orders]: https://github.com/oanda/apidocs/blob/master/sections/orders.md\r\n[positions]: https://github.com/oanda/apidocs/blob/master/sections/positions.md\r\n[transactions]: https://github.com/oanda/apidocs/blob/master/sections/transactions.md\r\n[alerts]: https://github.com/oanda/apidocs/blob/master/sections/alerts.md\r\n[news]: https://github.com/oanda/apidocs/blob/master/sections/news.md\r\n[rates]: https://github.com/oanda/apidocs/blob/master/sections/rates.md\r\n[notifications]: https://github.com/oanda/apidocs/blob/master/sections/notifications.md\r\n\r\n\r\n","name":"Apidocs","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}